[tox]
envlist = py39
skipsdist = True

[testenv]
deps =
    fastapi
    uvicorn
    psycopg2-binary
    httpx
    pytest-asyncio
    SQLAlchemy
    python-dotenv
    python-multipart
    pytest
    coverage
commands =
    coverage run -m pytest project/tests/tags.py
    coverage-tags xml
    coverage run -m pytest project/tests/posts.py
    coverage-posts xml

[coverage:run]
relative_files = True
source = project/tests/
branch = True